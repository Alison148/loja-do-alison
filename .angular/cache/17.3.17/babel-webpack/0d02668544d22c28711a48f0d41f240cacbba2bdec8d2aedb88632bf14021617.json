{"ast":null,"code":"import { ProdutoService } from '../../services/produto.service';\nimport { Router } from '@angular/router';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/produto.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction CarrinhoComponent_li_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 11)(1, \"div\");\n    i0.ɵɵelement(2, \"i\", 12);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 13);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", item_r1.nome, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"R$ \", item_r1.preco.toFixed(2), \"\");\n  }\n}\nexport let CarrinhoComponent = /*#__PURE__*/(() => {\n  class CarrinhoComponent {\n    constructor(service, router) {\n      this.service = service;\n      this.router = router;\n      this.carrinho = [];\n      this.carrinho = this.service.listarCarrinho();\n    }\n    total() {\n      return this.carrinho.reduce((soma, p) => soma + p.preco * (p.quantidade || 1), 0);\n    }\n    enviarParaPdV() {\n      if (this.carrinho.length === 0) {\n        Swal.fire('Aviso', 'O carrinho está vazio!', 'info');\n        return;\n      }\n      this.service.enviarParaPdV(this.carrinho);\n      Swal.fire('Enviado!', 'Produtos enviados para o PDV.', 'success').then(() => {\n        this.router.navigate(['/pdv']);\n      });\n    }\n    static {\n      this.ɵfac = function CarrinhoComponent_Factory(t) {\n        return new (t || CarrinhoComponent)(i0.ɵɵdirectiveInject(i1.ProdutoService), i0.ɵɵdirectiveInject(i2.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: CarrinhoComponent,\n        selectors: [[\"app-carrinho\"]],\n        decls: 16,\n        vars: 2,\n        consts: [[1, \"container\", \"mt-4\"], [1, \"card\", \"shadow\"], [1, \"card-header\", \"bg-primary\", \"text-white\", \"d-flex\", \"align-items-center\"], [1, \"fas\", \"fa-shopping-cart\", \"me-2\"], [1, \"mb-0\"], [1, \"list-group\", \"list-group-flush\"], [\"class\", \"list-group-item d-flex justify-content-between align-items-center\", 4, \"ngFor\", \"ngForOf\"], [1, \"card-body\", \"text-end\"], [1, \"text-success\"], [1, \"btn\", \"btn-warning\", \"mt-3\", 3, \"click\"], [1, \"fas\", \"fa-cash-register\", \"me-1\"], [1, \"list-group-item\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"fas\", \"fa-box-open\", \"text-secondary\", \"me-2\"], [1, \"badge\", \"bg-success\", \"fs-6\"]],\n        template: function CarrinhoComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n            i0.ɵɵelement(3, \"i\", 3);\n            i0.ɵɵelementStart(4, \"h5\", 4);\n            i0.ɵɵtext(5, \"Carrinho de Compras\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(6, \"ul\", 5);\n            i0.ɵɵtemplate(7, CarrinhoComponent_li_7_Template, 6, 2, \"li\", 6);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"div\", 7)(9, \"h5\");\n            i0.ɵɵtext(10, \"Total: \");\n            i0.ɵɵelementStart(11, \"span\", 8);\n            i0.ɵɵtext(12);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(13, \"button\", 9);\n            i0.ɵɵlistener(\"click\", function CarrinhoComponent_Template_button_click_13_listener() {\n              return ctx.enviarParaPdv();\n            });\n            i0.ɵɵelement(14, \"i\", 10);\n            i0.ɵɵtext(15, \" Enviar para PDV \");\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngForOf\", ctx.carrinho);\n            i0.ɵɵadvance(5);\n            i0.ɵɵtextInterpolate1(\"R$ \", ctx.total().toFixed(2), \"\");\n          }\n        },\n        dependencies: [i3.NgForOf],\n        encapsulation: 2\n      });\n    }\n  }\n  return CarrinhoComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}