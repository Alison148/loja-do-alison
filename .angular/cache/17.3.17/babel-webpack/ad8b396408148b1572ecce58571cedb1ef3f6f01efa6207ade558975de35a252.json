{"ast":null,"code":"import Swal from 'sweetalert2';\nimport { ProdutoService } from '../../services/produto.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/produto.service\";\nexport let PdvComponent = /*#__PURE__*/(() => {\n  class PdvComponent {\n    constructor(service) {\n      this.service = service;\n      this.operador = 'Alison Antunes';\n      this.fundoDeCaixa = 100.00;\n      this.formaPagamento = 'dinheiro';\n      this.parcelas = 1;\n      this.valorPago = 0;\n      this.notaGerada = false;\n      this.dataHoje = new Date().toLocaleDateString();\n      this.opcoesParcelas = [1, 2, 3, 4, 5, 6, 10, 12];\n      this.carrinho = [];\n    }\n    ngOnInit() {\n      this.carrinho = this.service.obterProdutosParaPdV();\n    }\n    total() {\n      return this.carrinho.reduce((soma, item) => soma + item.preco * (item.quantidade || 1), 0);\n    }\n    calcularTroco() {\n      return this.formaPagamento === 'dinheiro' ? this.valorPago - this.total() : 0;\n    }\n    finalizarCompra() {\n      Swal.fire({\n        title: 'Confirmar Compra?',\n        text: `Total: R$ ${this.total().toFixed(2)} - Forma: ${this.formaPagamento}`,\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: 'Sim',\n        cancelButtonText: 'Cancelar'\n      }).then(result => {\n        if (result.isConfirmed) {\n          this.notaGerada = true;\n        }\n      });\n    }\n    imprimirNota() {\n      const conteudo = document.getElementById('notaFiscal')?.innerHTML;\n      const janela = window.open('', '', 'width=800,height=600');\n      if (janela && conteudo) {\n        janela.document.write('<html><head><title>Nota Fiscal</title></head><body>');\n        janela.document.write(conteudo);\n        janela.document.write('</body></html>');\n        janela.document.close();\n        janela.print();\n      }\n    }\n    novaCompra() {\n      this.carrinho = [];\n      this.notaGerada = false;\n      this.valorPago = 0;\n      this.parcelas = 1;\n      this.formaPagamento = 'dinheiro';\n    }\n    static {\n      this.ɵfac = function PdvComponent_Factory(t) {\n        return new (t || PdvComponent)(i0.ɵɵdirectiveInject(i1.ProdutoService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: PdvComponent,\n        selectors: [[\"app-pdv\"]],\n        decls: 0,\n        vars: 0,\n        template: function PdvComponent_Template(rf, ctx) {},\n        encapsulation: 2\n      });\n    }\n  }\n  return PdvComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}